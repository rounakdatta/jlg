<!DOCTYPE html>
<html>
<head>
	<title>ASSLPL | Job Execution Database</title>
	<link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'><link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.0/bootstrap-table.min.css'><link rel='stylesheet' href='//rawgit.com/vitalets/x-editable/master/dist/bootstrap3-editable/css/bootstrap-editable.css'>
<style class="cp-pen-styles"></style>
<link rel="stylesheet" href="https://fengyuanchen.github.io/datepicker/css/datepicker.css">
</head>
<body>

 <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">ASSLPL Operations</a>
    </div>
    <ul class="nav navbar-nav">
      <li><a>→</a></li>
      <li class="active"><a>Job Execution Status</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
    	<li><a>
    	{% if user == '' %}
    	Not Logged In
    	{% else %}
    	{{user}}
    	{% endif %}
    </a></li>
    </ul>
  </div>
</nav> 

<br><br><br>
	
	<center>
	<p class="text-primary">
	<a href="/exec/open"><button class="btn btn-lg">Open Jobs</button></a>
	<a href="/exec/closed"><button class="btn btn-lg">Closed Jobs</button></a>
	</p>
	</center>
	<hr>

	<div class="container">

	<div id="toolbar">
		<select class="form-control">
				<option value="all">Export All</option>
				<option value="selected">Export Selected</option>
		</select>
	</div>

	{% if allExec %}
		<table id="table" border="1" align="center"
			 data-toggle="table"
			 data-search="true"
			 data-show-columns="true"
			 data-filter-control="true" 
			 data-show-export="true"
			 data-pagination="true" 
			 data-height="500"
			 data-click-to-select="true"
			 data-toolbar="#toolbar"
      class="table-responsive">
       	<thead>
		<tr>
			<th data-field="state" data-checkbox="true"></th>

			<th data-field="slno" data-filter-control="input" data-sortable="true" id="slno">Sl No</th>

			<th data-field="jobType" data-filter-control="input" data-sortable="true">Job Type</th>

			<th data-field="jobno1" data-filter-control="input" data-sortable="true">Job No</th>

			<th data-field="jobopen" data-filter-control="input" data-sortable="true">Job Open Date</th>

			<th data-field="clientname" data-filter-control="input" data-sortable="true">Client Name</th>

			<th data-field="clientOf" data-filter-control="input" data-sortable="true">Client Of</th>

			<th data-field="commodity" data-filter-control="input" data-sortable="true">Commodity</th>

			<th data-field="packageq" data-filter-control="input" data-sortable="true">Package Qty</th>

			<th data-field="sourceCountry" data-filter-control="input" data-sortable="true">Source Country (SC)</th>

			<th data-field="exportFromSource" data-filter-control="input" data-sortable="true">Export Date from SC</th>

			<th data-field="transitCountry" data-filter-control="input" data-sortable="true">Transit Country (TC)</th>

			<th data-field="importEstimateAtTransit" data-filter-control="input" data-sortable="true">Import ETA at TC</th>

			<th data-field="importAtTransit" data-filter-control="input" data-sortable="true">Import Date at TC</th>

			<th data-field="exportFromTransit" data-filter-control="input" data-sortable="true">Export Date from TC</th>

			<th data-field="importEstimateAtIndia" data-filter-control="input" data-sortable="true">Import ETA at India</th>

			<th data-field="importAtIndia" data-filter-control="input" data-sortable="true">Import Date at India</th>

			<th data-field="chaJobNo" data-filter-control="input" data-sortable="true">CHA Job No</th>

			<th data-field="chaname" data-filter-control="input" data-sortable="true">CHA Name</th>

			<th data-field="bill" data-filter-control="input" data-sortable="true">Bill Of Entry</th>

			<th data-field="customDutyAmount" data-filter-control="input" data-sortable="true">Custom Duty Amount</th>

			<th data-field="delFromCFS" data-filter-control="input" data-sortable="true">Delivery from CFS on</th>

			<th data-field="delToClient" data-filter-control="input" data-sortable="true">Delivery to client on</th>

			<th data-field="jobComplete" data-filter-control="input" data-sortable="true">Job Complete</th>

			<th data-field="jobCloseDate" data-filter-control="input" data-sortable="true">Job Close Date</th>

			<th data-field="invoiceNo" data-filter-control="input" data-sortable="true">Client Invoice No</th>

			<th data-field="invoiceDate" data-filter-control="input" data-sortable="true">Client Invoice Date</th>
		</tr>
	</thead>
		<tbody>
		{% for client in allExec %}
		<tr>
		   <td class="bs-checkbox "><input data-index="{{loop.index0 + 1}}" name="btSelectItem" type="checkbox"></td>
		   <td style="text-align:center;" class="serialNumber">{{loop.index0 + 1}}</td>
		   <td style="text-align:center;" class="j1">{{client['jobType']}}</td>
		   <td style="text-align:center;" class="j2">{{client['jobno1']}}</td>
		   <td style="text-align:center;" class="j3">{{client['jobopen']}}</td>
			 <td style="text-align:center;" class="j4">{{client['clientname']}}</td>
			 <td style="text-align:center;" class="j4">{{client['clientOf']}}</td>
		   <td style="text-align:center;" class="j5">{{client['commodity']}}</td>
		   <td style="text-align:center;" class="j5">{{client['packageq']}}</td>
		   <td style="text-align:center;" class="j5">{{client['sourceCountry']}}</td>
		   <td style="text-align:center;" class="j5">{{client['exportFromSource']}}</td>
		   <td style="text-align:center;" class="j6">{{client['transitCountry']}}</td>
		   <td style="text-align:center;" class="j6">{{client['importEstimateAtTransit']}}</td>
		   <td style="text-align:center;" class="j6">{{client['importAtTransit']}}</td>
		   <td style="text-align:center;" class="j6">{{client['exportFromTransit']}}</td>
		   <td style="text-align:center;" class="j7">{{client['importEstimateAtIndia']}}</td>
		   <td style="text-align:center;" class="j7">{{client['importAtIndia']}}</td>
		   <td style="text-align:center;" class="j7">{{client['chaJobNo']}}</td>
		   <td style="text-align:center;" class="j7">{{client['chaname']}}</td>
		   <td style="text-align:center;" class="j8">{{client['bill']}}</td>
		   <td style="text-align:center;" class="j8">{{client['customDutyAmount']}}</td>
		   <td style="text-align:center;" class="j8">{{client['delFromCFS']}}</td>
		   <td style="text-align:center;" class="j8">{{client['delToClient']}}</td>
		   <td style="text-align:center;" class="j8">{{client['jobCloseDate']}}</td>
		   <td style="text-align:center;" class="j8">{{client['jobComplete']}}</td>
		   <td style="text-align:center;" class="j8">{{client['invoiceNo']}}</td>
		   <td style="text-align:center;" class="j8">{{client['invoiceDate']}}</td>
		</tr>
		{% endfor %}
		</tbody>
		</table>
	{% endif %}

	</div>


	<script src='//static.codepen.io/assets/common/stopExecutionOnTimeout-41c52890748cd7143004e05d3c5f786c66b19939c4500ce446314d1748483e13.js'></script><script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script><script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.0/bootstrap-table.js'></script><script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.1/extensions/editable/bootstrap-table-editable.js'></script><script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-table-export.js') }}"></script></script><script src='//rawgit.com/hhurz/tableExport.jquery.plugin/master/tableExport.js'></script><script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.1/extensions/filter-control/bootstrap-table-filter-control.js'></script>

<script type="text/javascript">
	//exporte les données sélectionnées
var $table = $('#table');
    $(function () {
        $('#toolbar').find('select').change(function () {
            $table.bootstrapTable('refreshOptions', {
                exportDataType: $(this).val()
            });
        });
        $('#toolbar')
    })

		var trBoldBlue = $("table");

	$(trBoldBlue).on("click", "tr", function (){
			$(this).toggleClass("bold-blue");
	});
</script>

</body>
</html>